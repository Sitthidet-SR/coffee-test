<!-- navbar.component.html -->
<nav class="bg-white shadow-md fixed w-full top-0 z-50">
    <div class="container mx-auto px-4 py-3">
      <div class="flex justify-between items-center">
        <!-- Logo -->
        <div class="navbar-logo flex items-center cursor-pointer">
          <div class="logo-text-jack text-amber-500 font-bold text-2xl mr-2">Jack</div>
          <div class="logo-text-coffee text-gray-800 font-semibold text-2xl">Coffee</div>
        </div>
  
        <!-- Desktop Navigation -->
        <div class="hidden md:flex space-x-8">
          <a href="#" class="nav-item text-gray-700 hover:text-amber-500 transition-colors duration-300">Home</a>
          <a href="#" class="nav-item text-gray-700 hover:text-amber-500 transition-colors duration-300">Menu</a>
          <a href="#" class="nav-item text-gray-700 hover:text-amber-500 transition-colors duration-300">Contact Us</a>
        </div>
  
        <!-- Desktop Right Section -->
        <div class="hidden md:flex items-center space-x-6">
          <!-- Search Box (Always Visible) -->
          <div class="search-container bg-gray-100 rounded-full overflow-hidden">
            <div class="flex items-center px-4 py-2 w-64">
              <input 
                id="searchInput"
                type="text" 
                [(ngModel)]="searchQuery"
                placeholder="Search..."
                class="w-full bg-transparent outline-none"
                (keyup.enter)="searchSubmit()"
              >
              <button (click)="searchSubmit()" class="ml-2 text-gray-500 hover:text-amber-500">
                <fa-icon [icon]="faSearch"></fa-icon>
              </button>
            </div>
          </div>
  
          <!-- Language Toggle -->
          <button (click)="toggleLanguage()" class="nav-icon language-icon text-gray-700 hover:text-amber-500 transition-colors duration-300" aria-label="Toggle Language">
            <fa-icon [icon]="faLanguage"></fa-icon>
            <span class="ml-1 text-sm">{{ isEnglish ? 'EN' : 'TH' }}</span>
          </button>
  
          <!-- Cart -->
          <button class="nav-icon text-gray-700 hover:text-amber-500 transition-colors duration-300 relative" aria-label="Shopping Cart">
            <fa-icon [icon]="faShoppingCart"></fa-icon>
            <span class="absolute -top-2 -right-2 bg-amber-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">3</span>
          </button>
  
          <!-- User with Dropdown -->
          <div class="relative user-menu-container">
            <button 
              (click)="toggleUserMenu($event)" 
              class="nav-icon user-button text-gray-700 hover:text-amber-500 transition-colors duration-300" 
              aria-label="User Account"
            >
              <fa-icon [icon]="faUser"></fa-icon>
            </button>
            
            <!-- User Menu Dropdown -->
            <div *ngIf="isUserMenuOpen" class="user-menu absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-50">
              <button 
                (click)="openLoginModal()" 
                class="flex items-center w-full px-4 py-2 text-gray-700 hover:bg-amber-50 hover:text-amber-500 transition-colors duration-200"
              >
                <fa-icon [icon]="faSignInAlt" class="mr-2"></fa-icon>
                <span>{{ isEnglish ? 'Login' : 'เข้าสู่ระบบ' }}</span>
              </button>
              <button 
                (click)="openRegisterModal()" 
                class="flex items-center w-full px-4 py-2 text-gray-700 hover:bg-amber-50 hover:text-amber-500 transition-colors duration-200"
              >
                <fa-icon [icon]="faUserPlus" class="mr-2"></fa-icon>
                <span>{{ isEnglish ? 'Sign Up' : 'สมัครสมาชิก' }}</span>
              </button>
            </div>
          </div>
        </div>
  
        <!-- Mobile Menu Button -->
        <div class="md:hidden flex items-center space-x-4">
          <!-- Mobile Cart -->
          <button class="nav-icon text-gray-700 relative" aria-label="Shopping Cart">
            <fa-icon [icon]="faShoppingCart"></fa-icon>
            <span class="absolute -top-2 -right-2 bg-amber-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">3</span>
          </button>
          
          <!-- Mobile Menu Toggle -->
          <button (click)="toggleMobileMenu()" class="text-gray-700" aria-label="Menu">
            <fa-icon [icon]="isMobileMenuOpen ? faTimes : faBars" class="text-xl"></fa-icon>
          </button>
        </div>
      </div>
    </div>
  
    <!-- Mobile Menu -->
    <div *ngIf="isMobileMenuOpen" class="mobile-menu md:hidden bg-white shadow-lg py-4">
      <div class="container mx-auto px-4">
        <div class="flex flex-col space-y-4">
          <!-- Mobile Search (Now First Item) -->
          <div class="flex items-center border border-gray-300 rounded-full px-4 py-2">
            <input 
              type="text" 
              [(ngModel)]="searchQuery"
              placeholder="Search..."
              class="w-full outline-none"
              (keyup.enter)="searchSubmit()"
            >
            <button (click)="searchSubmit()" class="ml-2 text-gray-500 hover:text-amber-500">
              <fa-icon [icon]="faSearch"></fa-icon>
            </button>
          </div>
          
          <a href="#" class="text-gray-700 hover:text-amber-500 transition-colors duration-300 py-2">Home</a>
          <a href="#" class="text-gray-700 hover:text-amber-500 transition-colors duration-300 py-2">Menu</a>
          <a href="#" class="text-gray-700 hover:text-amber-500 transition-colors duration-300 py-2">Contact Us</a>
          
          <div class="pt-2 border-t border-gray-200">
            <!-- Mobile User and Language -->
            <div class="flex flex-col space-y-2 mt-4">
              <button (click)="toggleLanguage()" class="flex items-center text-gray-700 hover:text-amber-500 transition-colors duration-300" aria-label="Toggle Language">
                <fa-icon [icon]="faLanguage"></fa-icon>
                <span class="ml-2">{{ isEnglish ? 'English' : 'Thai' }}</span>
              </button>
              
              <!-- Mobile user options -->
              <button 
                (click)="openLoginModal()" 
                class="flex items-center text-gray-700 hover:text-amber-500 transition-colors duration-300 py-2"
              >
                <fa-icon [icon]="faSignInAlt" class="mr-2"></fa-icon>
                <span>{{ isEnglish ? 'Login' : 'เข้าสู่ระบบ' }}</span>
              </button>
              
              <button 
                (click)="openRegisterModal()" 
                class="flex items-center text-gray-700 hover:text-amber-500 transition-colors duration-300 py-2"
              >
                <fa-icon [icon]="faUserPlus" class="mr-2"></fa-icon>
                <span>{{ isEnglish ? 'Sign Up' : 'สมัครสมาชิก' }}</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </nav>
  
<!-- Registration Modal -->
<app-register 
  [isOpen]="isRegisterModalOpen" 
  (closeModalEvent)="closeRegisterModal()"
  (switchToLoginEvent)="openLoginModal()">
</app-register>


<!-- Login Modal -->
<app-login 
  [isOpen]="isLoginModalOpen" 
  (closeModalEvent)="closeLoginModal()"
  (switchToRegisterEvent)="openRegisterModal()">
</app-login>